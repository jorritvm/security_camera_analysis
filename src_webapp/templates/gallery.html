{% extends "base.html" %}
{% block content %}

<!-- Controls (top) -->
{% include "controls.html" %}

{% if images|length == 0 %}
  <div class="alert alert-info">
    No images found for <strong>{{ date_str }}</strong>
    (filter: <em>{{ "boxed" if img_filter != "all" else "all" }}</em>).
  </div>
{% else %}
  <div class="gallery-list">
    {% for img in images %}
      <div class="card mb-3 shadow-sm">
        <div class="card-body py-2 d-flex justify-content-between align-items-center small text-muted">
          <div class="text-truncate" title="{{ img.name }}">{{ img.name }}</div>
          <div>
            <span class="me-3">{{ img.file_size_kb | round(1) }} KB</span>
            <span>{{ img.mtime_str }}</span>
          </div>
        </div>
        <a href="{{ url_for('serve_image',
                             year=img.year,
                             month=img.month,
                             day=img.day,
                             file_name=img.name) }}"
           target="_blank" rel="noopener">
          <img class="img-fluid scaled-img"
               src="{{ url_for('serve_image',
                               year=img.year,
                               month=img.month,
                               day=img.day,
                               file_name=img.name)|urlencode }}"
               alt="{{ img.name }}">
        </a>
      </div>
    {% endfor %}
  </div>
{% endif %}

<!-- Controls (bottom) -->
{% include "controls.html" %}

{% endblock %}
